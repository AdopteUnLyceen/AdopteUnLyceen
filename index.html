<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>MEUFS DE MODESTE</title>
</head>
<header>
    <div class="header">
        <div class="logo">
            <img src="assets/logo.png" class="logo">
        </div>
        <p id="title">Adopte un Lyc√©en</p>
    </div>
</header>
<body>
    <div class="container">
        <div class="newest">
            <p class="title">Derniers Ajouts</p>
            <div class="wrapper" id="NEWEST">
                <div class="card">
                    <img class="IMG" src="https://scontent-cdt1-1.cdninstagram.com/v/t51.2885-19/65322552_2406208092948305_6253943772816605184_n.jpg?stp=dst-jpg_s150x150&_nc_ht=scontent-cdt1-1.cdninstagram.com&_nc_cat=105&_nc_ohc=51-svFpPI2wAX9y8BRc&edm=AOQ1c0wBAAAA&ccb=7-5&oh=00_AT-a35vi4-nnhbUKSByM4MCL2zhGV_hNvdyYNGCLLmDy6Q&oe=63504A6F&_nc_sid=8fd12b">
                    <p class="URL" style="display: none;">https://www.instagram.com/antoine_pouzoulet/</p>
                    <div class="overlay">
                        <p class="name">Antoine</p>
                        <p class="age">17 ans</p>
                    </div>
                </div>
                <div class="card">
                    <img class="IMG" src="">
                    <p class="URL" style="display: none;">https://www.instagram.com/leroifacquet_hugo/</p>
                    <div class="overlay">
                        <p class="name">Hugo</p>
                        <p class="age">17 ans</p>
                    </div>
                </div>
                <div class="card">
                    <img class="IMG" src="">
                    <p class="URL" style="display: none;">https://www.instagram.com/leroifacquet_hugo/</p>
                    <div class="overlay">
                        <p class="name">Hugo</p>
                        <p class="age">17 ans</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="tendance">
            <p class="title">Tendances</p>
            <div class="wrapper" id="TENDANCE">
                <div class="card">
                    <img class="IMG" src="assets/img/antoine_pouzoulet.png">
                    <p class="URL" style="display: none;">https://www.instagram.com/antoine_pouzoulet/</p>
                    <div class="overlay">
                        <p class="name">Antoine</p>
                        <p class="age">17 ans</p>
                    </div>
                </div>
                <div class="card">
                    <img class="IMG" src="">
                    <p class="URL" style="display: none;">https://www.instagram.com/leroifacquet_hugo/</p>
                    <div class="overlay">
                        <p class="name">Hugo</p>
                        <p class="age">17 ans</p>
                    </div>
                </div>
                <div class="card">
                    <img class="IMG" src="">
                    <p class="URL" style="display: none;">https://www.instagram.com/leroifacquet_hugo/</p>
                    <div class="overlay">
                        <p class="name">Hugo</p>
                        <p class="age">17 ans</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <link rel="stylesheet" href="overlays.css">
    <div id="POPUP" class="popup">
        <div class="close">
            <img src="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-close-512.png" id="CLOSE">
        </div>
        <div class="pp">
            <img src="" id="PP">
            <p id="INSTA_SRC"></p>
        </div>
        <div class="infos">
            <p id="NAME_POP" class="name"></p>
            <p id="AGE_POP" class="age"></p>
        </div>
        <input type="button" id="INSTA" onclick="" value="Instagram">
    </div>
    <script>
        newest = document.getElementById('NEWEST')
        newest_cards = newest.querySelectorAll('div.card')
        newest_cards.forEach(element => {
            if(isImage(element.getElementsByClassName('IMG')[0].src) == false){
                element.getElementsByClassName('IMG')[0].src = "assets/nothing.png"
            }
            element.addEventListener('click', function(e) {
                document.getElementById('NAME_POP').textContent = element.lastElementChild.firstElementChild.textContent
                document.getElementById('AGE_POP').textContent = element.lastElementChild.lastElementChild.textContent
                document.getElementById('PP').src = element.firstElementChild.src
                if(typeof element.getElementsByClassName('URL')[0] !== 'undefined'){
                    document.getElementById('INSTA').setAttribute("onclick", "window.location.href='"+element.getElementsByClassName('URL')[0].textContent+"'")
                } else{
                    document.getElementById('INSTA').setAttribute("onclick", "")
                }
                document.getElementById('POPUP').classList.add('active')
            })
        });
        tendance = document.getElementById('TENDANCE')
        tendance_cards = tendance.querySelectorAll('div.card')
        tendance_cards.forEach(thing => {
            if(isImage(thing.getElementsByClassName('IMG')[0].src) == false){
                thing.getElementsByClassName('IMG')[0].src = "assets/nothing.png"
            }
            thing.addEventListener('click', function(e) {
                document.getElementById('NAME_POP').textContent = thing.lastElementChild.firstElementChild.textContent
                document.getElementById('AGE_POP').textContent = thing.lastElementChild.lastElementChild.textContent
                document.getElementById('PP').src = thing.firstElementChild.src
                if(typeof thing.getElementsByClassName('URL')[0] !== 'undefined'){
                    document.getElementById('INSTA').setAttribute("onclick", "window.location.href='"+thing.getElementsByClassName('URL')[0].textContent+"'")
                } else{
                    document.getElementById('INSTA').setAttribute("onclick", "")
                }
                document.getElementById('POPUP').classList.add('active')
            })
        });
        document.getElementById('CLOSE').addEventListener('click', function(e) {
            document.getElementById('POPUP').classList.remove('active')
        })

        function isImage(url) {
            return /\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(url);
        }
    </script>
</body>
</html>